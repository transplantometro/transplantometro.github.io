<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Transplantômetro Brasil</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    html { scroll-behavior: smooth; }

    /* FUNDO GERAL DA PÁGINA = VERDE */
    body {
      background-color: rgb(0, 204, 0) !important;
      color: white; /* deixa tudo legível sobre verde */
    }

    /* CABEÇALHO AZUL + LETRAS BRANCAS */
    header {
      background-color: rgb(0, 0, 255) !important;
      color: white !important;
    }
    header h1,
    header p,
    header a {
      color: white !important;
    }

    .odometer-number {
      letter-spacing: 0.04em;
    }

    /* REMOVE fundos brancos que estavam escondendo o fundo verde */
    .card,
    section,
    footer,
    .whitebox {
      background: transparent !important;
      box-shadow: none !important;
      border: none !important;
    }

    table thead tr {
      background: rgba(255,255,255,0.2) !important;
    }

    table tbody tr {
      background: transparent !important;
    }

    table td, table th {
      color: white !important;
      border-color: rgba(255,255,255,0.3) !important;
    }

    details {
      background: rgba(0,0,0,0.2) !important;
      border: 1px solid rgba(255,255,255,0.3) !important;
      color: white !important;
    }
  </style>
</head>

<body>

  <!-- ==========================
       CONFIG DOS DADOS
  =========================== -->
  <script>
    const TRANSPLANT_DATA = {
      ano: 2025,
      totalTransplantesAno: 4826,
      potenciaisDoadores: 7597,
      doadoresEfetivos: 2069,
      taxaRecusaFamiliar: 45,
      orgaos: [
        { nome: "Rim", fila: 38349 },
        { nome: "Fígado", fila: 1482 },
        { nome: "Coração", fila: 370 },
        { nome: "Pulmão", fila: 197 },
        { nome: "Pâncreas", fila: 20 },
      ],
    };

    function animateNumber(element, target, duration = 1200) {
      if (!element) return;
      const start = 0;
      const startTime = performance.now();
      const formatter = new Intl.NumberFormat("pt-BR");

      function frame(now) {
        const progress = Math.min((now - startTime) / duration, 1);
        const eased = 1 - Math.pow(1 - progress, 3);
        const value = Math.floor(start + (target - start) * eased);
        element.textContent = formatter.format(value);
        if (progress < 1) requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    }

    document.addEventListener("DOMContentLoaded", () => {
      animateNumber(document.getElementById("total-ano"), TRANSPLANT_DATA.totalTransplantesAno);
      animateNumber(document.getElementById("potenciais-doadores"), TRANSPLANT_DATA.potenciaisDoadores);
      animateNumber(document.getElementById("doadores-efetivos"), TRANSPLANT_DATA.doadoresEfetivos);

      const recusaEl = document.getElementById("taxa-recusa");
      if (recusaEl) {
        const target = TRANSPLANT_DATA.taxaRecusaFamiliar;
        const startTime = performance.now();
        function frame(now) {
          const progress = Math.min((now - startTime) / 1000, 1);
          const eased = 1 - Math.pow(1 - progress, 3);
          const value = (target * eased).toFixed(1);
          recusaEl.textContent = value.replace(".", ",") + " %";
          if (progress < 1) requestAnimationFrame(frame);
        }
        requestAnimationFrame(frame);
      }

      const tbody = document.getElementById("tbody-orgaos");
      const formatter = new Intl.NumberFormat("pt-BR");
      TRANSPLANT_DATA.orgaos.forEach((org) => {
        const tr = document.createElement("tr");
        tr.className = "border-b border-white/30";
        tr.innerHTML = `
          <td class="px-3 py-2 font-medium">${org.nome}</td>
          <td class="px-3 py-2">${formatter.format(org.fila)}</td>
        `;
        tbody.appendChild(tr);
      });

      document.getElementById("ano-atual").textContent = TRANSPLANT_DATA.ano;
    });
  </script>

  <!-- ==========================
       CABEÇALHO (AZUL)
  =========================== -->
  <header class="border-b border-blue-900 shadow-sm">
    <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
      <div>
        <h1 class="text-2xl md:text-3xl font-bold tracking-tight">Transplantômetro Brasil</h1>
        <p class="text-sm">Painel público sobre fila de transplantes e doação de órgãos</p>
      </div>

      <nav class="hidden md:flex gap-4 text-sm">
        <a href="#painel" class="hover:underline">Painel</a>
        <a href="#faq" class="hover:underline">Dúvidas</a>
        <a href="#educativo" class="hover:underline">Conteúdo educativo</a>
      </nav>
    </div>
  </header>

  <!-- ==========================
       HERO (FUNDO VERDE)
  =========================== -->
  <section class="py-10">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-3xl font-semibold mb-3 text-white">
        Números que contam histórias de vida
      </h2>
      <p class="max-w-2xl text-white">
        Este painel apresenta, de forma simples, indicadores da doação de órgãos no Brasil.
        Cada número representa pessoas, famílias e decisões difíceis — e mostra a importância
        da conversa sobre doação.
      </p>
    </div>
  </section>

  <!-- ==========================
       PAINEL PRINCIPAL
  =========================== -->
  <main id="painel" class="max-w-6xl mx-auto px-4 py-4 space-y-8">

    <h3 class="text-xl font-semibold text-white">
      Visão geral dos transplantes em <span id="ano-atual"></span>
    </h3>

    <!-- CARDS (transparentes, texto branco) -->
    <div class="grid gap-4 md:grid-cols-4">

      <div class="whitebox p-4 rounded-xl border border-white/40">
        <p class="text-xs uppercase font-medium">Transplantes no ano</p>
        <p id="total-ano" class="mt-2 text-3xl font-semibold odometer-number">0</p>
      </div>

      <div class="whitebox p-4 rounded-xl border border-white/40">
        <p class="text-xs uppercase font-medium">Potenciais doadores</p>
        <p id="potenciais-doadores" class="mt-2 text-3xl font-semibold odometer-number">0</p>
      </div>

      <div class="whitebox p-4 rounded-xl border border-white/40">
        <p class="text-xs uppercase font-medium">Doadores efetivos</p>
        <p id="doadores-efetivos" class="mt-2 text-3xl font-semibold odometer-number">0</p>
      </div>

      <div class="whitebox p-4 rounded-xl border border-white/40">
        <p class="text-xs uppercase font-medium">Taxa de recusa familiar</p>
        <p id="taxa-recusa" class="mt-2 text-3xl font-semibold">0 %</p>
      </div>

    </div>

    <!-- ==========================
         TABELA
    =========================== -->
    <div class="whitebox p-4 rounded-xl border border-white/40">
      <h3 class="text-xl font-semibold text-white mb-3">Pessoas na fila por órgão</h3>
      <table class="min-w-full text-sm text-white">
        <thead>
          <tr class="border-b border-white/40">
            <th class="px-3 py-2 text-left">Órgão</th>
            <th class="px-3 py-2 text-left">Pessoas na fila</th>
          </tr>
        </thead>
        <tbody id="tbody-orgaos"></tbody>
      </table>
    </div>

  </main>

  <!-- ==========================
       FAQ
  =========================== -->
  <section id="faq" class="py-10">
    <div class="max-w-6xl mx-auto px-4">
      <h3 class="text-xl font-semibold text-white mb-4">Dúvidas frequentes</h3>

      <details class="p-4 rounded-xl mb-3">
        <summary class="font-medium cursor-pointer text-white">Quem pode ser doador?</summary>
        <p class="mt-2 text-white/90">A doação pode ocorrer em vida ou após morte encefálica.</p>
      </details>

      <details class="p-4 rounded-xl mb-3">
        <summary class="font-medium cursor-pointer text-white">Como declarar que quero doar?</summary>
        <p class="mt-2 text-white/90">Conversando com sua família — ela tomará a decisão final.</p>
      </details>
    </div>
  </section>

  <!-- ==========================
       EDUCATIVO
  =========================== -->
  <section id="educativo" class="py-10">
    <div class="max-w-6xl mx-auto px-4">
      <h3 class="text-xl font-semibold text-white mb-3">O papel da família</h3>
      <p class="text-white/90 max-w-3xl">
        A decisão sobre a doação cabe à família. Conversar antes facilita esse momento.
      </p>
    </div>
  </section>

  <!-- ==========================
       RODAPÉ
  =========================== -->
  <footer class="py-6 text-center text-xs text-white/90">
    Projeto acadêmico – Transplantômetro Brasil
  </footer>

</body>
</html>
